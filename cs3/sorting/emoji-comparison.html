<!--
Generated by google gemini

prompt:

make a html web app (as a standalone file) that lets the user select two emoji from a dropdown menu from the set ðŸ¥¦ ðŸ«– ðŸ§² ðŸ’© ðŸ¼ ðŸ„ ðŸ€ ðŸª­ ðŸ¦˜ ðŸ¦€ âš½ ðŸ¥‘ and it tells if the first is less than, greater than, or equal to the second lexicographically. should keep track of the number of comparisons and display them, and keep trask in localstorage so it persists on reload, should also log all comparisons so far along with results

update this code so that the count is only loaded from localstorage if the previous count stored was from the same day as the current day, and otherwise resets count to 0. From user perspctive count should reset each day
 -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emoji Lexicographical Comparator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      .emoji-select {
        font-size: 2rem;
        -moz-appearance: none;
        -webkit-appearance: none;
        appearance: none;
      }
    </style>
  </head>
  <body
    class="bg-gray-100 text-gray-800 flex items-center justify-center min-h-screen p-4"
  >
    <main class="bg-white p-6 md:p-8 rounded-2xl shadow-lg w-full max-w-2xl">
      <header class="text-center mb-6">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-900">
          Emoji Comparator
        </h1>
        <p class="text-gray-600 mt-2">
          Which emoji is "greater"? Let's find out lexicographically!
        </p>
      </header>

      <div
        class="flex flex-col md:flex-row items-center justify-center gap-4 md:gap-6 mb-6"
      >
        <select
          id="emoji1"
          class="emoji-select bg-gray-100 border-2 border-gray-300 rounded-xl p-3 text-center cursor-pointer focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"
        >
        </select>
        <span
          id="result-symbol"
          class="text-4xl font-bold text-indigo-600 w-12 h-12 flex items-center justify-center"
        >?</span>
        <select
          id="emoji2"
          class="emoji-select bg-gray-100 border-2 border-gray-300 rounded-xl p-3 text-center cursor-pointer focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"
        >
        </select>
      </div>

      <div class="text-center mb-6">
        <button
          id="compare-btn"
          class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition transform hover:scale-105"
        >
          Compare
        </button>
      </div>

      <div
        id="result-text"
        class="text-center text-xl font-medium text-gray-700 min-h-[28px] mb-8"
      >
      </div>

      <div class="bg-gray-50 p-4 rounded-xl border border-gray-200">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-xl font-semibold">Today's History</h2>
          <div class="text-right">
            <h3 class="font-semibold text-gray-700">Total Comparisons</h3>
            <p id="comparison-count" class="text-2xl font-bold text-indigo-600">
              0
            </p>
          </div>
        </div>

        <div
          id="log-container"
          class="h-48 overflow-y-auto bg-white p-3 rounded-lg border border-gray-200 space-y-2"
        >
        </div>
      </div>
    </main>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // --- DOM Element References ---
        const emoji1Select = document.getElementById("emoji1");
        const emoji2Select = document.getElementById("emoji2");
        const compareBtn = document.getElementById("compare-btn");
        const resultSymbolEl = document.getElementById("result-symbol");
        const resultTextEl = document.getElementById("result-text");
        const countEl = document.getElementById("comparison-count");
        const logContainer = document.getElementById("log-container");

        // --- State Initialization ---
        const emojis = [
          "ðŸ¥¦",
          "ðŸ«–",
          "ðŸ§²",
          "ðŸ’©",
          "ðŸ¼",
          "ðŸ„",
          "ðŸ€",
          "ðŸª­",
          "ðŸ¦˜",
          "ðŸ¦€",
          "âš½",
          "ðŸ¥‘",
        ];
        let comparisonCount = 0;
        let comparisonLog = [];

        // --- Functions ---

        /**
         * Populates the select dropdowns with emoji options.
         */
        function populateDropdowns() {
          emojis.forEach((emoji) => {
            const option1 = document.createElement("option");
            option1.value = emoji;
            option1.textContent = emoji;
            emoji1Select.appendChild(option1);

            const option2 = document.createElement("option");
            option2.value = emoji;
            option2.textContent = emoji;
            emoji2Select.appendChild(option2);
          });
        }

        /**
         * Renders the log of previous comparisons to the screen.
         */
        function renderLog() {
          logContainer.innerHTML = ""; // Clear previous log
          if (comparisonLog.length === 0) {
            logContainer.innerHTML =
              '<p class="text-gray-500 text-center p-4">No comparisons made yet today.</p>';
            return;
          }
          // We reverse to show the most recent comparison at the top
          comparisonLog
            .slice()
            .reverse()
            .forEach((logEntry) => {
              const logItem = document.createElement("div");
              logItem.className =
                "p-2 bg-gray-100 rounded-md text-center text-lg font-mono";
              logItem.textContent = logEntry;
              logContainer.appendChild(logItem);
            });
        }

        /**
         * Loads state from localStorage. Resets if the stored data is not from today.
         */
        function loadFromStorage() {
          const today = new Date().toISOString().split("T")[0]; // YYYY-MM-DD format
          const storedDataJSON = localStorage.getItem(
            "emojiComparatorData",
          );

          if (storedDataJSON) {
            try {
              const storedData = JSON.parse(storedDataJSON);
              // Check if the stored data is from today
              if (storedData.date === today) {
                comparisonCount = storedData.count || 0;
                comparisonLog = storedData.log || [];
              }
              // If the date doesn't match, we do nothing and let the default
              // empty/zero state be used, effectively resetting for the new day.
            } catch (error) {
              console.error("Error parsing stored data:", error);
              // If data is corrupt, start fresh.
              comparisonCount = 0;
              comparisonLog = [];
            }
          }
          updateUI();
        }

        /**
         * Saves the current state (count, log, and date) to localStorage.
         */
        function saveToStorage() {
          const today = new Date().toISOString().split("T")[0]; // YYYY-MM-DD format
          const dataToStore = {
            date: today,
            count: comparisonCount,
            log: comparisonLog,
          };
          localStorage.setItem(
            "emojiComparatorData",
            JSON.stringify(dataToStore),
          );
        }

        /**
         * Updates the UI with the current state (count and log).
         */
        function updateUI() {
          countEl.textContent = comparisonCount;
          renderLog();
        }

        /**
         * Handles the comparison logic when the button is clicked.
         */
        function handleCompare() {
          const emoji1 = emoji1Select.value;
          const emoji2 = emoji2Select.value;

          let resultSymbol = "";
          let resultText = "";

          if (emoji1 < emoji2) {
            resultSymbol = "<";
            resultText = "is LESS THAN";
          } else if (emoji1 > emoji2) {
            resultSymbol = ">";
            resultText = "is GREATER THAN";
          } else {
            resultSymbol = "=";
            resultText = "is EQUAL TO";
          }

          // Update result display
          resultSymbolEl.textContent = resultSymbol;
          resultTextEl.textContent =
            `${emoji1} ${resultText} ${emoji2}`;

          // Update state
          comparisonCount++;
          const logEntry = `${emoji1} ${resultSymbol} ${emoji2}`;
          comparisonLog.push(logEntry);

          // Persist state and update UI
          saveToStorage();
          updateUI();
        }

        // --- Initial Setup ---
        populateDropdowns();
        loadFromStorage();
        compareBtn.addEventListener("click", handleCompare);
      });
    </script>
  </body>
</html>
